

$element_color              = rgba(0,0,255,0.3)
$element_hover_color        = rgba(0,0,255,1)
$element_active_color       = rgba(0,0,190,1)
$read_only_element_color    = rgba(130,130,130,0.4)

$tag_bg_color               = rgba(247,230,143,1)
$tag_border_color           = rgba(96,88,57,1)

$highlight_color            = rgba(247,230,143,0.7)
$semi_highlight_color       = rgba(247,230,143,0.4)
$error_color                = rgba(190,30,45,1)
$light_error_color          = rgba(190,30,45,0.4)

$link_color                 = rgba(0,113,188,1)
$blockquote_color           = rgba(0,113,188,0.2)

$serif                      = Georgia, Times, "Times New Roman", serif
$sans_serif                 = Helvetica, Arial, sans-serif;
$monospace                  = Menlo, Courier New, monospace

$background_color           = rgba(250,250,248,1)
$code_bg_color              = rgba(245,245,245,1)
$text_color                 = rgba(5,5,10,1)
$border_color               = rgba(200,200,200,1)
$light_border_color         = rgba(230,230,230,1)

$table_odd_color            = rgba(255,255,255,1)
$table_even_color           = rgba(245,245,250,1)

$std_border_radius          = 2px

transition($properties, $duration=1s, $easing=linear)
    -webkit-transition-property: $properties
    -webkit-transition-duration: $duration
    -webkit-transition-easing: $easing
    -moz-transition-property: $properties
    -moz-transition-duration: $duration
    -moz-transition-easing: $easing
    -ms-transition-property: $properties
    -ms-transition-duration: $duration
    -ms-transition-easing: $easing
    transition-property: $properties
    transition-duration: $duration
    transition-easing: $easing



// Base body styles

body
    max-width   : 690px
    margin      : 0 auto
    background  : $background_color
    color       : $text_color
    line-height : 1.25
    font-size   : 16px
    font-family : $serif
    padding     : 1rem 4rem

h1, h2, h3, h4, h5, h6
    font-family     : $sans_serif
    border-bottom   : 1px solid $light_border_color
    position        : relative
    a.section-link
        position        : absolute
        right           : 100%
        margin-right    : 0.5rem
        opacity         : 0.2
    &:hover 
        a.section-link
            opacity: 1

h1, h2, h3
    font-weight : 300

blockquote
    font-style      : italic
    border-left     : 3px solid $blockquote_color
    margin-left     : -19px
    padding-left    : 1rem
    em
        font-style: normal

hr
    margin      : 2rem 0
    border      : 0
    border-top  : 1px solid $border_color

a
    color: $link_color
    text-decoration: none
    &:hover
        text-decoration: underline

table
    width           : 100%
    border          : 1px solid $border_color
    border-spacing  : 0
    border-radius   : $std_border_radius
    td, th
        padding: 0.5rem 1rem
    p
        margin: 0
    tbody
        tr:nth-of-type(odd)
            td
                background: $table_odd_color
        tr:nth-of-type(even)
            td
                background: $table_even_color
    th
        font-family: $sans_serif
        font-size: 0.8rem
        background-color: $light_border_color

p, h1, h2, h3, h4, h5, h6, blockquote
    code
        font-size           : 0.8rem
        background-color    : $code_bg_color
        border              : 1px solid $border_color
        border-radius       : $std_border_radius
        padding             : 0 0.2rem
        font-family         : $monospace


#AMControls
    position    : fixed
    left        : -2px
    top         : 46px
    width       : 28px
    hr
        margin: 5px 5px 5px 6px
    button, a
        width       : 28px
        height      : 24px
        display     : inline-block
        text-align  : center
        font-family : $monospace
        cursor      : pointer
        border      : 0
        background  : transparent
        font-weight : bold
        color       : $link_color
        &:hover
            text-decoration: none
    button
        padding         : 2px 2px 2px 3px
        border-radius   : 4px
        margin-bottom   : 2px
        &:active, &.active
            background-color: $light_border_color

.active-button
    background-color: $light_border_color

body.collapsed-code #AMControls button.code
    @extend .active-button

body.highlighted-elements
    #AMControls button.highlight
        @extend .active-button



#AMRaw
    display     : none
    font-family : $monospace
    margin-top  : 1em
    white-space : pre
    overflow    : scroll

body.display-raw
    #AMControls button.raw
        @extend .active-button
    #AMContent
        display: none
    #AMRaw
        display: block


// Elements

body.collapsed-code

    .ActiveCodeBlock
        height      : 2.4rem
        overflow    : hidden
        &::after
            position    : absolute
            top         : 0
            left        : 0
            right       : 0
            bottom      : 0
            content     : ""
            display     : block
            z-index     : 4
            background  : -moz-linear-gradient(top, rgba(255,255,255,0) 0%, rgba(250,250,248,1) 100%) /* FF3.6+ */
            background  : -webkit-linear-gradient(top, rgba(255,255,255,0) 0%,rgba(250,250,248,1) 100%) /* Chrome10+,Safari5.1+ */
            background  : -o-linear-gradient(top, rgba(255,255,255,0) 0%,rgba(250,250,248,1) 100%) /* Opera 11.10+ */
            background  : -ms-linear-gradient(top, rgba(255,255,255,0) 0%,rgba(250,250,248,1) 100%) /* IE10+ */
            background  : linear-gradient(to bottom, rgba(255,255,255,0) 0%,rgba(250,250,248,1) 100%) /* W3C */


.ActiveCodeBlock
    position: relative

.CodeMirror
    border-radius   : 0
    background      : transparent
    height          : auto
    font-size       : 0.8rem
    margin-left     : -53px

    .CodeMirror-gutters
        border      : 0
        background  : transparent

    .CodeMirror-linenumber
        color: $blockquote_color !important

.CodeMirror-scroll
    height      : auto
    overflow-y  : hidden
    overflow-x  : auto

.AMElement.error
    background  : $light_error_color
    position    : relative
    z-index     : 4
    .error-feedback
        z-index     : 5
        display     : none
        position    : absolute
        left        : 100%
        top         : 0
        width       : 200px
        margin-left : 2px
        font-family : $sans_serif
        font-style  : normal
        background  : white
        padding     : 0.25em
        border      : 1px solid $error_color
        .config-string
            font-family: $monospace
    &:hover .error-feedback
        display: block

body.highlighted-elements .BaseElement
    background-color: $semi_highlight_color

.BaseElement

    display         : inline
    border-bottom   : 1px dotted $element_color
    position        : relative

    transition(background-color, 0.5s)
    background-color: transparent
    &.no-transition
        transition(background-color, 0s)
    &.changed
        background-color: $highlight_color !important

    .name
        position        : absolute
        bottom          : 100%
        left            : 0
        display         : none
        background      : $tag_bg_color
        border          : 1px dotted $tag_border_color
        font-family     : $monospace
        font-size       : 0.7rem
        padding         : 0.25rem
        pointer-events  : none
        z-index         : 5
        &:before
            content         : "@"
            font-style      : italic

    &.readonly
        border-bottom-color: $read_only_element_color

    &.editable
        &:hover
            color: $element_hover_color
            border-bottom: 1px solid $element_hover_color
        &.active
            color: $element_active_color
            border-bottom: 1px solid $element_active_color

    &:hover, &.active
        .name
            display: block


.StringElement
    cursor  : text
    padding : 0 0.2rem
    margin  : 0 -0.2rem


.RangeElement

    cursor: col-resize

.SwitchElement

    cursor: pointer

    .switch
        position: relative

    .true-label, .false-label, .undefined-label
        display: none

    &[value="undefined"]
        .undefined-label
            display: inline

        .switch
            top: 0.12rem
            color: gray

    &[value="true"]
        .true-label
            display: inline

        .switch
            top: -0.12rem
            color: green

    &[value="false"]
        .false-label
            display: inline

        .switch
            top: 0.25rem
            color: red


.ChartElement
    display: block
    width: 100%


// body display states
body
    &.dragging-x
        cursor: col-resize
    &.display-variable-names
        .BaseElement .name
            display: block